	    ORG 0
	    MOVE 10000, SP
	    MOVE LABELA, R4
	    
MAIN    LOADH R0, (R4)
		CMP R0, 8000
		JR_NE CONTINUE
		LOADH R0, (R4+2)
		CMP R0, 8000
		JR_NE CONTINUE
		HALT
		
CONTINUE LOADH R0, (R4+2)
		PUSH R0
	  	LOADH R0, (R4)
		PUSH R0
		CALL VISE_1
		STORE R0, (R4)
		ADD R4, 4, R4
		JR MAIN
		   

VISE_1  POP R3
		POP R1
		POP R2
		PUSH R3
		MOVE 10, R3
		MOVE 0, R0
		
PETLJA  ROTR R1, 1, R1
		ADC R0, 0, R0
		ROTR R2, 1, R2
		JR_NC NULA
		SUB R0, 1, R0
		
NULA    SUB R3, 1, R3
		JR_NZ PETLJA
		CMP R0, 0
		JR_SLT DRUGI
		JR_EQ JEDNAKO
		
PRVI    MOVE R1, R0
		ASHR R0, 10, R0
		RET
		
DRUGI   MOVE R2, R0
		ASHR R0, 10, R0
		RET
		
JEDNAKO MOVE 1, R0
		ROTR R0, 1, R0
		RET
	    
LABELA  DH 1234, 00FF
        DH 00FF, FF01
        DH 0001, FFFF
        DH 002A, 020A
        DH 0456, 0123
        DH 8000, 8000
